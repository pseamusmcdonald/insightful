<script>
	import '../app.css'
	import { user } from '../stores/user'
	import { session, page } from '$app/stores'
	import { goto } from '$app/navigation'

	if ($session != null) {
		$user = JSON.parse($session).user
	}

	$: segment = $page.url.pathname.split('/')[1]
</script>

{#if segment == 'app'}
	<main>
		<slot />
	</main>
{:else}
	<header class='py-8 px-12'>
		<div class='flex justify-between items-center'>
			<div id='logo' class='w-36 cursor-pointer' on:click={() => goto('/')}>
				<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 131 30' fill='none'>
					<path d='M1.84225 3.68472C1.32721 3.68472 0.891412 3.51064 0.534847 3.16248C0.178282 2.81431 0 2.38878 0 1.88588C0 1.38298 0.178282 0.957448 0.534847 0.609285C0.891412 0.261122 1.32721 0.0870412 1.84225 0.0870412C2.33748 0.0870412 2.75347 0.261122 3.09023 0.609285C3.44679 0.957448 3.62508 1.38298 3.62508 1.88588C3.62508 2.38878 3.44679 2.81431 3.09023 3.16248C2.75347 3.51064 2.33748 3.68472 1.84225 3.68472ZM3.14966 6.26692V22.1663H0.445706V6.26692H3.14966Z' fill='#FBFBFB'/>
					<path d='M15.6916 5.97679C17.6726 5.97679 19.2771 6.56673 20.5053 7.74662C21.7334 8.90716 22.3475 10.5899 22.3475 12.795V22.1663H19.6733V13.1721C19.6733 11.5861 19.2672 10.3772 18.455 9.54545C17.6428 8.69439 16.5335 8.26886 15.1271 8.26886C13.7008 8.26886 12.5618 8.70406 11.71 9.57447C10.878 10.4449 10.462 11.7118 10.462 13.3752V22.1663H7.75807V6.26692H10.462V8.52998C10.9969 7.7176 11.7199 7.08897 12.6311 6.6441C13.5622 6.19923 14.5823 5.97679 15.6916 5.97679Z' fill='#FBFBFB'/>
					<path d='M32.5289 22.4275C31.2809 22.4275 30.1617 22.2244 29.1712 21.8182C28.1808 21.3927 27.3983 20.8124 26.8239 20.0774C26.2494 19.323 25.9324 18.4623 25.873 17.4952H28.6661C28.7453 18.2882 29.1217 18.9362 29.7952 19.4391C30.4885 19.942 31.3899 20.1934 32.4992 20.1934C33.5293 20.1934 34.3414 19.971 34.9357 19.5261C35.53 19.0812 35.8271 18.5203 35.8271 17.8433C35.8271 17.147 35.5102 16.6344 34.8763 16.3056C34.2424 15.9574 33.2618 15.619 31.9346 15.2901C30.7263 14.9807 29.7358 14.6712 28.9632 14.3617C28.2105 14.0329 27.5568 13.559 27.0021 12.94C26.4673 12.3017 26.1999 11.47 26.1999 10.4449C26.1999 9.6325 26.4475 8.88781 26.9427 8.21083C27.4379 7.53385 28.1412 7.00193 29.0524 6.61509C29.9636 6.2089 31.0036 6.0058 32.1723 6.0058C33.975 6.0058 35.4309 6.45068 36.5402 7.34043C37.6496 8.23017 38.2438 9.44874 38.3231 10.9961H35.6191C35.5597 10.1644 35.213 9.4971 34.5791 8.9942C33.9651 8.4913 33.1331 8.23985 32.0832 8.23985C31.1125 8.23985 30.34 8.44294 29.7655 8.84913C29.191 9.25532 28.9038 9.78723 28.9038 10.4449C28.9038 10.9671 29.0722 11.4023 29.4089 11.7505C29.7655 12.0793 30.2013 12.3501 30.7164 12.5629C31.2512 12.7563 31.9841 12.9787 32.9152 13.2302C34.0839 13.5397 35.0347 13.8491 35.7677 14.1586C36.5006 14.4487 37.1246 14.8936 37.6397 15.4932C38.1745 16.0928 38.4518 16.8762 38.4716 17.8433C38.4716 18.7137 38.224 19.4971 37.7288 20.1934C37.2336 20.8897 36.5303 21.441 35.6191 21.8472C34.7277 22.234 33.6976 22.4275 32.5289 22.4275Z' fill='#FBFBFB'/>
					<path d='M43.6852 3.68472C43.1702 3.68472 42.7344 3.51064 42.3778 3.16248C42.0213 2.81431 41.843 2.38878 41.843 1.88588C41.843 1.38298 42.0213 0.957448 42.3778 0.609285C42.7344 0.261122 43.1702 0.0870412 43.6852 0.0870412C44.1805 0.0870412 44.5965 0.261122 44.9332 0.609285C45.2898 0.957448 45.4681 1.38298 45.4681 1.88588C45.4681 2.38878 45.2898 2.81431 44.9332 3.16248C44.5965 3.51064 44.1805 3.68472 43.6852 3.68472ZM44.9926 6.26692V22.1663H42.2887V6.26692H44.9926Z' fill='#FBFBFB'/>
					<path d='M56.3164 6.0058C57.7228 6.0058 58.951 6.30561 60.0009 6.90522C61.0706 7.50484 61.8629 8.25919 62.378 9.16828V6.26692H65.1116V22.5145C65.1116 23.9652 64.7947 25.2514 64.1608 26.3733C63.5269 27.5145 62.6157 28.4043 61.4271 29.0426C60.2584 29.6809 58.8916 30 57.3266 30C55.1872 30 53.4044 29.5068 51.9782 28.5203C50.5519 27.5338 49.71 26.1896 49.4525 24.4874H52.1267C52.4239 25.4545 53.0379 26.2282 53.969 26.8085C54.9 27.4081 56.0192 27.7079 57.3266 27.7079C58.8123 27.7079 60.0207 27.2534 60.9517 26.3443C61.9025 25.4352 62.378 24.1586 62.378 22.5145V19.1779C61.8431 20.1064 61.0508 20.8801 60.0009 21.499C58.951 22.118 57.7228 22.4275 56.3164 22.4275C54.8703 22.4275 53.553 22.0793 52.3644 21.383C51.1957 20.6867 50.2746 19.7099 49.6011 18.4526C48.9275 17.1954 48.5908 15.764 48.5908 14.1586C48.5908 12.5338 48.9275 11.1122 49.6011 9.89362C50.2746 8.65571 51.1957 7.69826 52.3644 7.02128C53.553 6.34429 54.8703 6.0058 56.3164 6.0058ZM62.378 14.1876C62.378 12.9884 62.1304 11.9439 61.6351 11.0542C61.1399 10.1644 60.4664 9.48743 59.6146 9.02321C58.7826 8.53965 57.8615 8.29787 56.8512 8.29787C55.8409 8.29787 54.9198 8.52998 54.0878 8.9942C53.2559 9.45841 52.5922 10.1354 52.097 11.0251C51.6018 11.9149 51.3542 12.9594 51.3542 14.1586C51.3542 15.3772 51.6018 16.441 52.097 17.3501C52.5922 18.2398 53.2559 18.9265 54.0878 19.4101C54.9198 19.8743 55.8409 20.1064 56.8512 20.1064C57.8615 20.1064 58.7826 19.8743 59.6146 19.4101C60.4664 18.9265 61.1399 18.2398 61.6351 17.3501C62.1304 16.441 62.378 15.3868 62.378 14.1876Z' fill='#FBFBFB'/>
					<path d='M77.7632 5.97679C78.9914 5.97679 80.1007 6.23791 81.0911 6.76016C82.0816 7.26306 82.8541 8.02708 83.4088 9.05222C83.9833 10.0774 84.2705 11.325 84.2705 12.795V22.1663H81.5963V13.1721C81.5963 11.5861 81.1902 10.3772 80.378 9.54545C79.5658 8.69439 78.4565 8.26886 77.0501 8.26886C75.6238 8.26886 74.4848 8.70406 73.633 9.57447C72.801 10.4449 72.385 11.7118 72.385 13.3752V22.1663H69.6811V0.696326H72.385V8.52998C72.9198 7.7176 73.6528 7.08897 74.5838 6.6441C75.5347 6.19923 76.5944 5.97679 77.7632 5.97679Z' fill='#FBFBFB'/>
					<path d='M91.9856 8.44294V17.8143C91.9856 18.588 92.154 19.1393 92.4908 19.4681C92.8275 19.7776 93.4119 19.9323 94.2439 19.9323H96.2347V22.1663H93.7982C92.2927 22.1663 91.1635 21.8279 90.4108 21.1509C89.658 20.4739 89.2817 19.3617 89.2817 17.8143V8.44294H87.172V6.26692H89.2817V2.26306H91.9856V6.26692H96.2347V8.44294H91.9856Z' fill='#FBFBFB'/>
					<path d='M106.137 8.44294H102.72V22.1663H100.016V8.44294H97.9063V6.26692H100.016V5.1354C100.016 3.3559 100.482 2.05996 101.413 1.24758C102.363 0.415861 103.879 0 105.959 0V2.20503C104.77 2.20503 103.928 2.43714 103.433 2.90135C102.958 3.34623 102.72 4.09091 102.72 5.1354V6.26692H106.137V8.44294Z' fill='#FBFBFB'/>
					<path d='M123.731 6.26692V22.1663H121.027V19.8162C120.512 20.6286 119.789 21.2669 118.858 21.7311C117.946 22.176 116.936 22.3985 115.827 22.3985C114.559 22.3985 113.42 22.147 112.41 21.6441C111.399 21.1219 110.597 20.3482 110.003 19.323C109.428 18.2979 109.141 17.0503 109.141 15.5803V6.26692H111.815V15.2321C111.815 16.7988 112.221 18.0077 113.034 18.8588C113.846 19.6905 114.955 20.1064 116.362 20.1064C117.808 20.1064 118.947 19.6712 119.779 18.8008C120.611 17.9304 121.027 16.6634 121.027 15V6.26692H123.731Z' fill='#FBFBFB'/>
					<path d='M131 0.696326V22.1663H128.296V0.696326H131Z' fill='#FBFBFB'/>
				</svg>
			</div>
			<nav class='flex gap-4'>
				<div class='cursor-pointer hover:text-zinc-300' on:click={() => goto('/auth/login')}>Login</div>
				<div>|</div>
				<div class='cursor-pointer hover:text-zinc-300' on:click={() => goto('/auth/sign-up')}>Sign Up</div>
			</nav>
		</div>
	</header>
	<main>
		<slot />
	</main>
	<footer class='text-center py-4'>Copyright &copy; 2022 Insightful</footer>
{/if}
